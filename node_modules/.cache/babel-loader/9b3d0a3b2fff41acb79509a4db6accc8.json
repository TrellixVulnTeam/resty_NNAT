{"ast":null,"code":"var _jsxFileName = \"/home/ahmad/401/resty/src/app.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useReducer } from \"react\";\nimport \"./app.scss\"; // Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\n\nimport Header from \"./components/header/index\";\nimport Footer from \"./components/footer/index\";\nimport Form from \"./components/form/index\";\nimport Results from \"./components/results/index\";\nimport History from \"./components/history/history\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require(\"axios\");\n\nconst initialState = {\n  data: null,\n  requestParams: {},\n  history: []\n};\n\nfunction setState() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.name) {\n    case \"resApi\":\n      return { ...state,\n        data: action.payload.res,\n        requestParams: action.payload.req\n      };\n\n    default:\n      return state;\n  }\n}\n\nfunction App() {\n  _s();\n\n  const [state, dispatch] = useReducer(setState, initialState);\n\n  const callApi = async requestParams => {\n    state.history.push(requestParams);\n    const action = {\n      name: \"reqParam\",\n      payload: requestParams\n    };\n    let resApi;\n\n    if (requestParams.method === \"get\") {\n      resApi = await axios.get(requestParams.url);\n    }\n\n    if (requestParams.method === \"delete\") {\n      resApi = await axios.delete(requestParams.url);\n    }\n\n    if (resApi) {\n      const action = {\n        name: \"resApi\",\n        payload: {\n          res: resApi,\n          req: requestParams\n        }\n      };\n      dispatch(action);\n    } else {\n      const action = {\n        name: \"resApi\",\n        payload: \"no data found\"\n      };\n      dispatch(action);\n      setState({\n        data: \"no data found\",\n        requestParams\n      });\n    } // console.log(requestParams,'poopooppoooppooppopoossssst');\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Request Method: \", state.requestParams.method]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"URL: \", state.requestParams.url]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      handleApiCall: callApi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(History, {\n      handleApiCall: callApi,\n      history: state.history\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Results, {\n      data: state.data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/ahmad/401/resty/src/app.js"],"names":["React","useState","useReducer","Header","Footer","Form","Results","History","axios","require","initialState","data","requestParams","history","setState","state","action","name","payload","res","req","App","dispatch","callApi","push","resApi","method","get","url","delete"],"mappings":"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","sourcesContent":["import React, { useState, useReducer } from \"react\";\n\nimport \"./app.scss\";\n\n// Let's talk about using index.js and some other name in the component folder\n// There's pros and cons for each way of doing this ...\nimport Header from \"./components/header/index\";\nimport Footer from \"./components/footer/index\";\nimport Form from \"./components/form/index\";\nimport Results from \"./components/results/index\";\nimport History from \"./components/history/history\";\nconst axios = require(\"axios\");\n\nconst initialState = {\n  data: null,\n  requestParams: {},\n  history: []\n};\nfunction setState(state = initialState, action) {\n  switch (action.name) {\n    case \"resApi\":\n      return {\n        ...state,\n        data: action.payload.res,\n        requestParams: action.payload.req\n      };\n    default:\n      return state;\n  }\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(setState, initialState);\n\n  const callApi = async (requestParams) => {\n    state.history.push(requestParams);\n    const action = {\n      name: \"reqParam\",\n      payload:        \n        requestParams\n    }\n    let resApi;\n    if (requestParams.method === \"get\") {\n      resApi = await axios.get(requestParams.url);\n    }\n    if (requestParams.method === \"delete\") {\n      resApi = await axios.delete(requestParams.url);\n    }\n    if (resApi) {\n      const action = {\n        name: \"resApi\",\n        payload: {\n          res: resApi,\n          req: requestParams\n        }\n      };\n      dispatch(action);\n    } else {\n      const action = {\n        name: \"resApi\",\n        payload: \"no data found\"\n      };\n      dispatch(action);\n      setState({ data: \"no data found\", requestParams });\n    }\n    // console.log(requestParams,'poopooppoooppooppopoossssst');\n    \n  };\n\n  return (\n    <React.Fragment>\n      <Header />\n      <div>Request Method: {state.requestParams.method}</div>\n      <div>URL: {state.requestParams.url}</div>\n      <Form handleApiCall={callApi} />\n      <History handleApiCall={callApi} history={state.history} />\n      <Results data={state.data} />\n      <Footer />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}